<!DOCTYPE html>
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="menu_styles.css">
  <title>WOOF - control panel</title>
</head>
<body>

<nav id="navbar">
  <ul class="navbar-items flexbox-col">
    <li class="navbar-logo flexbox-left">
      <a class="navbar-item-inner flexbox" href="/pages/menu.html">
        <img src="/pages/WoofLogoTrimSmall.jpeg" >
      </a>
    </li>
    <li class="navbar-item flexbox-left">
      <a class="navbar-item-inner flexbox-left" onclick="fetchSettings()">
        <div class="navbar-item-inner-icon-wrapper flexbox">
          <ion-icon name="settings-outline"></ion-icon>
        </div>
        <span class="link-text">Settings</span>
      </a>
    </li>
    <li class="navbar-item flexbox-left">
      <a class="navbar-item-inner flexbox-left" href="/pages/mainLog.html">
        <div class="navbar-item-inner-icon-wrapper flexbox">
          <ion-icon name="document-text-outline"></ion-icon>
        </div>
        <span class="link-text">Logs</span>
      </a>
    </li>
    <li class="navbar-item flexbox-left">
      <a class="navbar-item-inner flexbox-left" href="/pages/security_logs.html">
        <div class="navbar-item-inner-icon-wrapper flexbox">
          <ion-icon name="document-lock-outline"></ion-icon>
        </div>
        <span class="link-text">Security Logs</span>
      </a>
    </li>
    <li class="navbar-item flexbox-left">
      <a class="navbar-item-inner flexbox-left" onclick="fetchRules()">
        <div class="navbar-item-inner-icon-wrapper flexbox">
          <ion-icon name="briefcase-outline"></ion-icon>
        </div>
        <span class="link-text">Rules</span>
      </a>
    </li>
  </ul>
</nav>
<script>
  async function fetchRules() {
      try {
          const response = await fetch('/check-switches');
          window.location.href = (await response.json()).url;
      } catch (error) {
          console.error('Error fetching rules:', error);
          // Handle the error gracefully, e.g., display an error message to the user
      }
  }
  async function fetchSettings() {
          try {
              const response = await fetch('/check-settings');
              window.location.href = (await response.json()).url;
          } catch (error) {
              console.error('Error fetching rules:', error);
              // Handle the error gracefully, e.g., display an error message to the user
          }
      }
</script>
<!-- Main -->
<main id="main" class="flexbox-col">
  <h2>This is Or and Dvir Project</h2>
  <p>You are more than welcome to explore our website</p>
</main>
</body>
</html>